!function(o){o(function(){let e="";console.log(qod_vars),o("#new-quote-button").on("click",function(t){t.preventDefault(),e=document.URL,o.ajax({method:"GET",url:qod_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(e){history.pushState(null,null,qod_vars.home_url+"/"+e[0].slug),o(".entry-content").empty(),o(".entry-title").empty(),o(".source").empty(),o(".entry-content").append(` ${e[0].content.rendered}`),o(".entry-title").append(`&mdash; ${e[0].title.rendered}`),e[0]._qod_quote_source_url.length>0?o(".source").append(`, <a href="${e[0]._qod_quote_source_url}">${e[0]._qod_quote_source}</a>`):e[0]._qod_quote_source.length>0?o(".source").append(`, ${e[0]._qod_quote_source}`):o(".source").append(""),console.log(e)}).fail(function(o){console.log(o)})}),o(window).on("popstate",function(){window.location.replace(e)}),o("#quote-submission-form").on("submit",function(e){e.preventDefault(),function(){const e=o("#quote-author").val(),t=o("#quote-content").val(),n=o("#quote-source").val(),u=o("#quote-source-url").val();o.ajax({method:"POST",url:qod_vars.rest_url+"wp/v2/posts",data:{title:e,content:t,_qod_quote_source:n,_qod_quote_source_url:u,status:"pending"},beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",qod_vars.nonce)}}).done(function(){console.log("response"),o("#quote-submission-form").slideUp("slow"),o(".quote-submission-wrapper").append("<h3> Your quote was submitted successfully </h3>")}).fail(function(){console.log("fail"),o("#quote-submission-form").slideUp("slow"),o(".quote-submission-wrapper").append("<h3> Oops! You want to submit your quote again? </h3>")})}()})})}(jQuery);